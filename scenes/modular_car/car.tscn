[gd_scene load_steps=10 format=2]

[ext_resource path="res://scripts/modular/modular_car.gd" type="Script" id=1]
[ext_resource path="res://scripts/modular/engine.gd" type="Script" id=2]
[ext_resource path="res://scripts/modular/brakes.gd" type="Script" id=3]
[ext_resource path="res://scripts/modular/clutch.gd" type="Script" id=4]
[ext_resource path="res://scripts/modular/gearbox.gd" type="Script" id=5]
[ext_resource path="res://scripts/modular/differential.gd" type="Script" id=6]
[ext_resource path="res://scripts/WheelSuspension.gd" type="Script" id=7]

[sub_resource type="Curve" id=2]
_data = [ Vector2( 0, 0.5 ), 0.0, 0.0, 0, 0, Vector2( 0.495495, 1 ), 0.0, 0.0, 0, 0, Vector2( 0.738739, 0.954545 ), 0.0, 0.0, 0, 0, Vector2( 1, 0.763636 ), 0.0, 0.0, 0, 0 ]

[sub_resource type="BoxShape" id=1]
extents = Vector3( 0.931874, 0.315376, 2.12385 )

[node name="Car" type="RigidBody"]
mass = 800.0
script = ExtResource( 1 )

[node name="CarEngine" type="Spatial" parent="."]
script = ExtResource( 2 )
torque_curve = SubResource( 2 )
output_path = NodePath("../Clutch")

[node name="Clutch" type="Node" parent="."]
script = ExtResource( 4 )
output_path = NodePath("../GearBox")

[node name="GearBox" type="Node" parent="."]
script = ExtResource( 5 )
gear_ratios = [ 0.0, 0.0, 0.0, 0.0, 0.0 ]
output_path = NodePath("../Differential")

[node name="Brakes" type="Node" parent="."]
script = ExtResource( 3 )

[node name="Differential" type="Node" parent="."]
script = ExtResource( 6 )

[node name="WheelFL" type="RayCast" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.8, 0, 1.6 )
enabled = true
script = ExtResource( 7 )

[node name="WheelFR" type="RayCast" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.8, 0, 1.6 )
enabled = true
script = ExtResource( 7 )

[node name="WheelBL" type="RayCast" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.8, 0, -1.6 )
enabled = true
script = ExtResource( 7 )

[node name="WheelBR" type="RayCast" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.8, 0, -1.6 )
enabled = true
script = ExtResource( 7 )

[node name="CollisionShape" type="CollisionShape" parent="."]
shape = SubResource( 1 )
